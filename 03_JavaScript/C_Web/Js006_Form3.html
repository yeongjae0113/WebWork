<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<title>Form 검증2</title>
	<!-- 여러개의 체크 박스의 경우, 그중에 몇개이상 체크해야 하는 경우라면? -->
	<style>
		table,
		th,
		td {
			border: 1px solid black;
			border-collapse: collapse;
		}

		th,
		td {
			padding: 5px;
		}
	</style>
</head>

<body>
	<form name="frm" action="https://www.w3schools.com/action_page.php">
		<table>
			<tr>
				<th>check</th>
				<th>id</th>
				<th>이름</th>
			</tr>
			<tr>
				<td><input type="checkbox" name="id" value="43"></td>
				<td>43</td>
				<td>최승섭</td>
			</tr>
			<tr>
				<td><input type="checkbox" name="id" value="27"></td>
				<td>27</td>
				<td>강성후</td>
			</tr>
			<tr>
				<td><input type="checkbox" name="id" value="8"></td>
				<td>8</td>
				<td>하혜선</td>
			</tr>
			<tr>
				<td><input type="checkbox" name="id" value="11"></td>
				<td>11</td>
				<td>이재민</td>
			</tr>
		</table>
		<br>

		<!--  TODO : onclick -->
		<button type="button" onclick="chkDelete()">삭제하기</button><br>


	</form>

	<script>
		function chkDelete() {
			const frm = document.forms['frm'];

			for (let i of frm['id']) {  // frm에서 'id' 이름을 가진 모든 엘리먼트를 순회

				if (i.checked) {  // 하나라도 체크되었다면
					confirm('선택한 것들을 삭제하시겠습니까?') && frm.submit();  // 체크된 항목이 있고, 사용자에게 삭제 확인

					return;  // 더 이상의 순회는 불필요하므로 반복문 탈출
				}
			}
			alert('삭제할 것을 체크해주세요');  // 사용자에게 알림
		}


		// function chkDelete() {
		// 	const frm = document.forms['frm'];
		// 	for (let i of frm['id']) {
		// 		if (!i.checked) {
		// 			alert('삭제할 것을 체크해주세요');

		// 			return false;
		// 		}
		// 		else {
		// 		confirm('선택한 것들을 삭제하시겠습니까?') && frm.submit();
		// 		return true;
		// 		}
		// 		Array.from(frm['id']);
		// 		alert("삭제할 것을 체크해주세요")
		// 	}
		// }



		// 	if(e.checked){
		// 		confirm("선택한 것들을 삭제하시겠습니까?") && frm.submit();
		// 		return;
		// 	}
		// }


		// 	if(Array.from(frm['id']).some(e => e.checked)){
		// 		confirm("선택한 것들을 삭제하시겠습니까?") && frm.submit();
		// 		return;
		// 	}


		// 	alert("삭제할 것을 체크해주세요");

		// }



	</script>

	<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>

</html>